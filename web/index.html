<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drake Equation Explorer</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <div class="container">
        <h1 title="The Drake Equation is typically rendered as shown below. This calculator lets you select any variable to solve for and explore what happens when you tweak the others.">Drake Equation Explorer</h1>
        
<span class="deq-mathtml">
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>N</mi><mo>=</mo><msub><mi>R</mi><mo>∗</mo></msub><mo>×</mo><msub><mi>f</mi><mi>p</mi></msub><mo>×</mo><msub><mi>n</mi><mi>e</mi></msub><mo>×</mo><msub><mi>f</mi><mi>l</mi></msub><mo>×</mo><msub><mi>f</mi><mi>i</mi></msub><mo>×</mo><msub><mi>f</mi><mi>c</mi></msub><mo>×</mo><mi>L</mi></mrow><annotation encoding="application/x-tex">N = R_* \times f_p \times n_e \times f_l \times f_i \times f_c \times L</annotation></semantics></math></span>
</span></span></span>
</span>
        <p title="Enter a numeric value into the field, or use the increment/decrement arrows hidden in the right-side edges of the input boxes." class="explanation">
            Adjust the values below to explore different scenarios in the Drake Equation. 
            <br>
       <!--    Lock variables you want to keep constant --> Select which variable you want to solve for.
        </p>
        <div id="message-container"></div>
        
<div class="drake-equation">
    <div class="equation-row">
        <div id="R_star_div" class="variable-group">
            <label for="R_star_input" title="Average rate of star formation in our galaxy">R*</label>
            <input type="number" id="R_star_input" value="1" step="0.1">
            <input type="checkbox" id="R_star_lock" title="Lock this value">
        </div>
        <span class="operator">×</span>
        <div id="f_p_div" class="variable-group">
            <label for="f_p_input" title="Fraction of stars that have planets">f<sub>p</sub></label>
            <input type="number" id="f_p_input" value="0.2" step="0.01">
            <input type="checkbox" id="f_p_lock" title="Lock this value">
        </div>
        <span class="operator">×</span>
        <div id="n_e_div" class="variable-group">
            <label for="n_e_input" title="Average number of planets that could potentially support life per star with planets">n<sub>e</sub></label>
            <input type="number" id="n_e_input" value="1" step="0.1">
            <input type="checkbox" id="n_e_lock" title="Lock this value">
        </div>
        <span class="operator">×</span>
        <div id="f_l_div" class="variable-group">
            <label for="f_l_input" title="Fraction of planets that could support life where life actually appears">f<sub>l</sub></label>
            <input type="number" id="f_l_input" value="0.1" step="0.01">
            <input type="checkbox" id="f_l_lock" title="Lock this value">
        </div>
    </div>
    <div class="equation-row">
        <div id="f_i_div" class="variable-group">
            <label for="f_i_input" title="Fraction of planets with life where intelligent life evolves">f<sub>i</sub></label>
            <input type="number" id="f_i_input" value="0.01" step="0.001">
            <input type="checkbox" id="f_i_lock" title="Lock this value">
        </div>
        <span class="operator">×</span>
        <div id="f_c_div" class="variable-group">
            <label for="f_c_input" title="Fraction of civilizations that develop a technology that releases detectable signs of their existence into space">f<sub>c</sub></label>
            <input type="number" id="f_c_input" value="0.1" step="0.01">
            <input type="checkbox" id="f_c_lock" title="Lock this value">
        </div>
        <span class="operator">×</span>
        <div id="L_div" class="variable-group">
            <label for="L_input" title="Length of time such civilizations release detectable signals into space">L</label>
            <input type="number" id="L_input" value="1000" step="100">
            <input type="checkbox" id="L_lock" title="Lock this value">
        </div>
        <span class="operator">=</span>
        <div id="N_div" class="variable-group">
            <label for="N_input" title="Number of civilizations in our galaxy with which communication might be possible">N</label>
            <input type="number" id="N_input" readonly>
            <input type="checkbox" id="N_lock" title="Lock this value" style="display: none;">
        </div>
    </div>
</div>

            <div class="solve-for">
                <label for="solve-for-select">Solve for:</label>
                <select id="solve-for-select">
                    <option value="N">N (Number of Civilizations)</option>
                    <option value="R_star">R* (Star Formation Rate)</option>
                    <option value="f_p">f_p (Fraction of Stars with Planets)</option>
                    <option value="n_e">n_e (Number of Habitable Planets per Star)</option>
                    <option value="f_l">f_l (Fraction of Habitable Planets with Life)</option>
                    <option value="f_i">f_i (Fraction of Planets with Intelligent Life)</option>
                    <option value="f_c">f_c (Fraction of Civilizations that Communicate)</option>
                    <option value="L">L (Length of Time Civilizations Communicate)</option>
                </select>
            </div>
            <button type="button" id="reset-button">Reset to Defaults</button>
            <button type="button" id="randomize-button">Randomize Unlocked!</button>
          <div class="trace-management">
              <button id="new-trace-button">Start New Trace</button>
              <button id="clear-trace-button">Clear Current Trace</button>
              <select id="trace-select">
                  <option value="0">Trace 1</option>
              </select>
          </div>
          <div class="visualization-container">
            <canvas id="comparativeBarChart"></canvas>
            <div id="variableRelationshipGraph"></div>
            <canvas id="probabilityDistributionCurve"></canvas>
            <div id="galaxyDensityHeatmap"></div>
          </div>
    </div>
    <script type="module" src="js/visualizations.js"></script>
    <script type="module" src="js/calc.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</body>
</html>
